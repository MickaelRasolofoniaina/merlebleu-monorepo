<div class="flex justify-between items-center mb-4">
  <h2 class="text-2xl font-bold">Commandes</h2>
</div>
<div class="flex justify-end mb-4">
  <p-button label="Ajouter" icon="pi pi-plus" (onClick)="goToAddOrder()" />
</div>

<p-table
  [value]="orders()"
  [loading]="isLoading"
  [tableStyle]="{ 'min-width': '60rem' }"
  [stripedRows]="true"
>
  <ng-template #header>
    <tr>
      <th>Date de commande</th>
      <th>Date de livraison</th>
      <th>Client</th>
      <th>Commande</th>
      <th>Status</th>
      <th style="width: 10rem">Actions</th>
    </tr>
  </ng-template>
  <ng-template #body let-order>
    <tr>
      <td>{{ order.orderDate | date: 'dd/MM/yyyy' }}</td>
      <td>{{ order.deliveryDate | date: 'dd/MM/yyyy' }}</td>
      <td>{{ order.customerName }}</td>
      <td>{{ getDescription(order) }}</td>
      <td>
        <p-badge
          [value]="getStatus(order.orderStatus)"
          [severity]="getStatusColor(order.orderStatus)"
        ></p-badge>
      </td>
      <td>
        <p-button
          icon="pi pi-book"
          [rounded]="true"
          [outlined]="true"
          severity="secondary"
          class="mr-2"
          (onClick)="goToOrderDetail(order)"
        />
        <p-button
          icon="pi pi-pencil"
          [rounded]="true"
          [outlined]="true"
          severity="warn"
          (onClick)="goToEditOrder(order)"
        />
      </td>
    </tr>
  </ng-template>
  <ng-template #emptymessage>
    <tr>
      <td colspan="6" class="text-center-important py-6">Aucune commande Ã  afficher</td>
    </tr>
  </ng-template>
</p-table>
